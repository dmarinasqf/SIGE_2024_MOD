@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!-- //EARTCOD1009//-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.9.1/font/bootstrap-icons.min.css" integrity="sha512-5PV92qsds/16vyYIJo3T/As4m2d8b6oWYfoqV+vtizRB6KhF1F9kYzWzQmsO6T3z3QG2Xdhrx7FQ+5R1LiQdUA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.4/pagination.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.4/pagination.css" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js" integrity="sha512-BkpSL20WETFylMrcirBahHfSnY++H2O1W+UnEEO4yNIl+jI2+zowyoGJpbtk6bx97fBXf++WJHSSK2MV4ghPcg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables.net-select/1.5.0/dataTables.select.min.js" integrity="sha512-N4LdjsNox6lPb6dwOVZHGmBK6m/fGoVwyGTCpK/AnyHk/nkwMQgAsYmKHTpaLEV1NpR8FtsSG2IScfJq00o4Jw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/css/dataTables.bootstrap4.min.css" integrity="sha512-PT0RvABaDhDQugEbpNMwgYBCnGCiTZMh9yOzUsJHDgl/dMhD9yjHAwoumnUk3JydV3QTcIkNDuN40CJxik5+WQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
@*<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/css/jquery.dataTables.min.css" integrity="sha512-1k7mWiTNoyx2XtmI96o+hdjP8nn0f3Z2N4oF/9ZZRgijyV4omsKOXEnqL1gKQNPy2MTSP9rIEWGcH/CInulptA==" crossorigin="anonymous" referrerpolicy="no-referrer" />*@

<partial name="~/Areas/Comercial/Views/Descuento/modal/_modalpromocionpackagregarproducto.cshtml" />
<partial name="~/Areas/Comercial/Views/Descuento/modal/_modalpromocionpacklistar.cshtml" />
<partial name="~/Areas/Comercial/Views/Descuento/modal/_modalpromocionpackdetalle.cshtml" />
<partial name="~/Areas/Comercial/Views/Descuento/modal/_modalpromocionpacksucursales.cshtml" />

<div class="row justify-content-center">
    <div class="col-xl-12 col-md-6">
        <div class="page-header mb-2 pb-2 flex-column flex-sm-row align-items-start align-items-sm-center py-25 px-1">
            <h1 class="page-title text-primary-d2 text-140">
                PACK DE PROMOCIONES
            </h1>
        </div>
    </div>
</div>
<hr />

<div class="card" id="cardexkbloquerarbotones">
    <div class="row px-2 py-2">
        <div class="col-xl-9 col-sm-9 pt-1">
            <div class="row">
                <div class="col-xl-12 col-sm-12">
                    <div class="form-group">
                        <label>PACK NOMBRE:</label>
                        <input type="hidden" id="MCPP_id_empleado" value="@ViewBag.IDEMPLEADO" class="form-control form-control-sm" required name="MCPP_id_empleado">
                        <input type="hidden" id="MCPP_idempresa" value="@ViewBag.IDEMPRESA" class="form-control form-control-sm" required name="MCPP_idempresa">
                        <input type="hidden" id="MCPP_suc_codigo" value="@ViewBag.IDSUCURSAL" class="form-control form-control-sm" required name="MCPP_suc_codigo">
                        <input type="hidden" id="MCPP_idpromocionpack" class="form-control form-control-sm" required name="MCPP_idpromocionpack">
                        <input type="text" id="MCPP_txtPromocionNombre" class="form-control form-control-sm" required name="txtPromocionNombre">
                    </div>
                </div>

                @*<div class="col-xl-2 col-sm-2">
                        <div class="form-group">
                            <label>INCENTIVO:</label>
                            <input type="number" id="MCPP_txtPromocionIncentivo" name="MCPP_txtPromocionIncentivo" class="form-control form-control-sm" value=0.01 min=0.01 step=".01" required>
                        </div>
                    </div>*@

                <div class="col-xl-3 col-sm-3">
                    <div class="form-group">
                        <label>PACK CODIGO:</label>
                        <input type="text" id="MCPP_txtPackCodigo" class="form-control form-control-sm" name="txtPackCodigo" readonly>
                    </div>
                </div>

                <div class="col-xl-9 col-sm-9">
                    <div class="form-group">
                        <label>DESCRIPCIÓN:</label>
                        <textarea id="MCPP_txtPackDescripcion" class="form-control form-control-sm" name="txtPackDescripcion"></textarea>
                    </div>
                </div>

                <div class="col-xl-12 col-sm-12 mt-4 ml-2">
                    <div class="row">
                        <div class="col-xl-12 col-sm-12 ml-2 mb-2 pr-0 mt-0">
                            <div style="display:flex;">

                                <div class="col-xl-3 pl-0">
                                    <label style="font-size:10px">PROMO FECHA DESDE:</label>
                                    <input class="form-control form-control-sm date_fecha" id="msucMCPP_txtfechaInicio" name="date_fecha"
                                           placeholder="DD/MM/YYYY" type="text" required readonly />
                                </div>

                                <div class="col-xl-3 pl-0">
                                    <label style="font-size:10px">PROMO FECHA HASTA:</label>
                                    <input class="form-control form-control-sm date_fecha" id="msucMCPP_txtfechaTermino" name="date_fecha"
                                           placeholder="DD/MM/YYYY" type="text" required readonly />
                                </div>

                                @*<label class="pt-2" style="width:11%"></label>
                                    <div style="width:32%"></div>

                                    <label class="mx-2 pt-2" style="width:7%"></label>*@
                                <div class="mt-4" style="width:12%"></div>
                                <label class="mx-2 mt-4" style="width:10%; margin-top:20px">INCENTIVO:</label>
                                <input type="number" style="width:10%" id="MCPP_txtIncentivoTotalPack" class="form-control form-control-sm mx-2 mt-4" value=0 min=0.01 step=".01" required>
                                <input type="number" style="width:10%" id="MCPP_txtIncentivoTotal" class="form-control form-control-sm mx-2 mt-4" value=0 disabled>
                            </div>
                        </div>

                        <div class="col-xl-12 col-sm-12 ml-2 mb-2 pr-0">
                            <div style="display:flex;">
                                <label class="pt-2" style="width:11%">PRODUCTO</label>
                                <button type="button" class="btn btn-link btn-sm mx-0" id="MCPP_btnAgregar"><i class="bi bi-plus-circle-fill h4"></i></button>

                                <div  style="width:24%"  class="dropdown" >
                                    <button class="btn btn-block btn-outline-light dropdown-toggle"
                                            type="button" id="dropdownMenuClase" data-toggle="modal"
                                            data-target="#listaPreciosModal">
                                        LISTA DE PRECIOS
                                    </button>

                                </div>
                                <label class="mx-2 pt-2" style="width:7%">% DESC:</label>
                                <input type="number" style="width:10%" id="MCPP_txtPorcentajeFactor" class="form-control form-control-sm mx-2" value=0 min=0 max=100 step=".01" required>
                                <label class="mx-2 pt-2" style="width:7%">PRECIO:</label>
                                <input type="number" style="width:10%" id="MCPP_txtPrecioTotalEstimado" class="form-control form-control-sm mx-2" value=0 min=0.01 step=".01" required>
                                <input type="number" style="width:10%" id="MCPP_txtPrecioTotal" class="form-control form-control-sm mx-2" value=0 min=0.01 step=".01" disabled>
                            </div>
                        </div>


                        @*<div class="col-xl-2 col-sm-2 ml-2 mb-2 mr-2">
                                <label>PRODUCTO</label>
                                <button type="button" class="btn btn-link btn-sm mx-0 px-0" id="MCPP_btnAgregar"><i class="bi bi-plus-circle-fill h4"></i></button>
                            </div>
                            <div class="col-xl-3 col-sm-3 ml-2 mb-2 mr-2">
                                <select id="MCPP_cmbListaPrecios" class="form-control form-control-sm">
                                    <option value="">--SELECCIONE LISTA DE PRECIOS--</option>
                                </select>
                            </div>
                            <div class="col-xl-6 col-sm-6 ml-2 mb-2 pr-0">
                                <div class="row justify-content-start mx-0 px-0">
                                    <div class="col-2 mx-0 px-1 pt-1"><label>% DESC:</label></div>
                                    <div class="col-3 pr-0">
                                        <input type="number" id="MCPP_txtPorcentajeFactor" class="form-control form-control-sm" value=0 min=0 max=100 step="1" required>
                                    </div>

                                    <div class="col-1 mx-0 px-1 pt-1"><label>PRECIO:</label></div>

                                    <div class="col-3 pr-0">
                                        <input type="number" id="MCPP_txtPrecioTotalEstimado" class="form-control form-control-sm" value=0.01 min=0.01 step=".01" required>
                                    </div>
                                    <div class="col-3 pr-0">
                                        <input type="number" id="MCPP_txtPrecioTotal" class="form-control form-control-sm" value=0.01 min=0.01 step=".01" disabled>
                                    </div>
                                </div>
                            </div>*@
                        <div class="col-xl-12 col-sm-12" >
                            <div>
                                <table class="table" id="tabla_pack_promo">
                                    <thead class="table bg-primary text-light">
                                        <tr>
                                            <th class="my-0 py-2">CODIGO</th>
                                            <th class="my-0 py-2">DESCRIPCION</th>
                                            <th class="my-0 py-2">CANTIDAD</th>
                                            <th class="my-0 py-2">xFRACCIÓN</th>
                                            <th class="my-0 py-2">PVF</th>
                                            <th class="my-0 py-2">INC</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-sm-3">
            <div class="card">
                <label class="mx-1 py-0 my-0 pt-1">CANALES DE VENTAS</label>
                <div id="contenedor_MC_tabla_canal_ventas">

                </div>
            </div>
        </div>



    </div>

    <div class="card-footer">
        <div class="row justify-content-center" >
            <div class="col-xl-10 col-sm-10">
                <div class="row justify-content-center">
                    <div class="col-xl-2 col-sm-2">
                        <button type="button" class="btn btn-secondary btn-block" id="MCPP_btnsucursales">SUCURSALES</button>
                    </div>
                    <div class="col-xl-2 col-sm-2">
                        <button type="button" class="btn btn-danger btn-block" id="MCPP_btnactualizar" disabled>ACTUALIZAR</button>
                    </div>
                    <div class="col-xl-2 col-sm-2">
                        <button type="button" class="btn btn-warning btn-block" id="MCPP_btnhistorial">HISTORIAL</button>
                    </div>
                    <div class="col-xl-2 col-sm-2">
                        <button type="reset" class="btn btn-primary btn-block" id="MCPP_btnnuevo">NUEVO</button>
                    </div>
                    <div class="col-xl-2 col-sm-2">
                        <button type="submit" class="btn btn-success  btn-block" id="MCPP_btnguardar">REGISTRAR</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- CREACION DEL MODAL-->

<div class="modal fade" id="listaPreciosModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Lista de Precios</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <table class="table table-bordered" id="listaPreciosTable">
                    <thead>
                        <tr>
                            <th style="width: 10%">Seleccionar</th>
                            <th style="width: 20%">Código</th>
                            <th style="width: 40%">Nombre</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Aquí se llenarán dinámicamente los datos -->
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<script src="~/js/controller/comercial/ListaPreciosController.js"></script>
<script src="~/js/areas/comercial/descuentos/packpromociones.js"></script>
<script src="~/js/controller/Utils/ApiController.js"></script>
<script src="~/js/controller/comercial/DescuentoController.js"></script>
<!-- Agrega este script en tu HTML -->
